{% extends './layout.twig' %}

{% block body %}
  
  <section class="content">
        <div class="container-fluid">
            <div class="block-header">
                <h2>DASHBOARD</h2>
            </div>
            <!-- Widgets -->
            <div class="row clearfix">
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box bg-pink hover-expand-effect">
                        <div class="icon">
                            <i class="material-icons">playlist_add_check</i>
                        </div>
                        <div class="content">
                            <div class="text">POSTS</div>
                            <div class="number count-to" data-from="0" data-to="{{posts|length}}" data-speed="15" data-fresh-interval="20"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box bg-cyan hover-expand-effect">
                        <div class="icon">
                            <i class="material-icons">help</i>
                        </div>
                        <div class="content">
                            <div class="text">ADMINS</div>
                            <div class="number count-to" data-from="0" data-to="{{users|length}}" data-speed="1000" data-fresh-interval="20"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box bg-light-green hover-expand-effect">
                        <div class="icon">
                            <i class="material-icons">forum</i>
                        </div>
                        <div class="content">
                            <div class="text">CATEGORIES</div>
                            <div class="number count-to" data-from="0" data-to="{{categories|length}}" data-speed="1000" data-fresh-interval="20"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box bg-orange hover-expand-effect">
                        <div class="icon">
                            <i class="material-icons">person_add</i>
                        </div>
                        <div class="content">
                            <div class="text">TOTAL POSTS VIEWS</div>
                            <div class="number count-to" data-from="0" data-to="1225" data-speed="1000" data-fresh-interval="20"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- #END# Widgets -->
            <div class="row clearfix">
                <!-- Line Chart -->
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>LINE CHART</h2>
                            <ul class="header-dropdown m-r--5">
                                <li class="dropdown">
                                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">more_vert</i>
                                    </a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href="javascript:void(0);">Action</a></li>
                                        <li><a href="javascript:void(0);">Another action</a></li>
                                        <li><a href="javascript:void(0);">Something else here</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="body">
                            <div id="line_chart" class="graph"></div>
                        </div>
                    </div>
                </div>
                <!-- #END# Line Chart -->
            </div>
        </div>
    </section>

{% endblock %}


{% block blockCSS %}
    <!-- Morris Css -->
    <link href="/admin/plugins/morrisjs/morris.css" rel="stylesheet" />
{% endblock %}


{% block blockJS %}
    <!-- Jquery CountTo Plugin Js -->
    <script src="/admin/plugins/jquery-countto/jquery.countTo.js"></script>

    <!-- Morris Plugin Js -->
    <script src="/admin/plugins/raphael/raphael.min.js"></script>
    <script src="/admin/plugins/morrisjs/morris.js"></script>
{% endblock %}


{% block JSFire %}
    <script>
        $(function () {
            getMorris('line', 'line_chart');
        });

        function getMorris(type, element) {
            if (type === 'line') {
                Morris.Line({
                    element: element,
                    data: [{
                        'period': '2011 Q3',
                        'licensed': 3407,
                        'sorned': 660
                    }, {
                        'period': '2011 Q2',
                        'licensed': 3351,
                        'sorned': 629
                    }, {
                        'period': '2011 Q1',
                        'licensed': 3269,
                        'sorned': 618
                    }, {
                        'period': '2010 Q4',
                        'licensed': 3246,
                        'sorned': 661
                    }, {
                        'period': '2009 Q4',
                        'licensed': 3171,
                        'sorned': 676
                    }, {
                        'period': '2008 Q4',
                        'licensed': 3155,
                        'sorned': 681
                    }, {
                        'period': '2007 Q4',
                        'licensed': 3226,
                        'sorned': 620
                    }, {
                        'period': '2006 Q4',
                        'licensed': 3245,
                        'sorned': null
                    }, {
                        'period': '2005 Q4',
                        'licensed': 3289,
                        'sorned': null
                    }],
                    xkey: 'period',
                    ykeys: ['licensed', 'sorned'],
                    labels: ['Licensed', 'Off the road'],
                    lineColors: ['rgb(233, 30, 99)', 'rgb(0, 188, 212)'],
                    lineWidth: 3
                });
            }
        }
    </script>
    <script src="/admin/js/pages/index.js"></script>
{% endblock %}